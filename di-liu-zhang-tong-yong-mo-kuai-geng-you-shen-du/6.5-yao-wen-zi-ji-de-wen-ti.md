# 6.5 要问自己的问题

识别一个干净的通用类设计比创建一个更容易。下面是一些你可以问自己的问题，这些问题将帮助你在接口的通用和特殊用途之间找到正确的平衡。

什么是最简单的接口，可以涵盖我目前所有的需求？如果你减少了一个API中方法的数量而没有减少它的整体能力，那么你可能是在创造更多的通用方法。特殊用途的文本API至少有三种删除文本的方法：退格、删除和deleteSelection。更加通用的API只有一个删除文本的方法，它可以满足所有三个目的。只有在每个方法的API保持简单的情况下，减少方法的数量才有意义；如果你为了减少方法的数量而不得不引入很多额外的参数，那么你可能就没有真正地简化事情。

这个方法会在多少种情况下被使用？如果一个方法是为一个特定的用途而设计的，比如退格方法，这就是一个红旗，说明它可能太过特殊用途。看看你是否可以用一个通用的方法来取代几个特殊用途的方法。

这个API对于我目前的需要来说是否容易使用？这个问题可以帮助你确定你在使API简单化和通用化方面何时走得太远。如果你必须写很多额外的代码才能为你当前的目的使用一个类，这就是一个红旗，说明这个接口没有提供正确的功能。例如，文本类的一个方法是围绕单字符操作来设计：插入一个字符，删除一个字符。这种API既简单又具有通用性。然而，对于一个文本编辑器来说，它并不特别容易使用：高层代码将包含大量的循环来插入或删除一系列的字符。单一字符的方法对于大型操作来说也是低效的。因此，对于文本类来说，最好是内置支持对字符范围的操作。 使用www.DeepL.com/Translator翻译（免费版）
