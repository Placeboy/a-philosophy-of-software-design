# 8.1 示例：编辑器文本类

考虑一下为GUI文本编辑器管理文件文本的类，这在第6章和第7章讨论过。该类提供了从磁盘读取文件到内存的方法，查询和修改文件的内存拷贝，并将修改后的版本写回磁盘。当学生们必须实现这个类时，他们中的许多人选择了一个面向行的接口，用方法来读取、插入和删除整行的文本。这导致了该类的简单实现，但它为更高层次的软件带来了复杂性。在用户界面的层面上，操作很少涉及整行。例如，击键会导致个别字符被插入到现有的行中；复制或删除选择可以修改几个不同行的部分。在面向行的文本界面中，高层软件必须分割和连接行，以实现用户界面。

而像第6.3节中所描述的面向字符的界面，则将复杂性往下拉。用户界面软件现在可以插入和删除任意范围的文本，而不需要拆分和合并行，所以它变得更加简单。文本类的实现可能会变得更加复杂：如果它在内部将文本表示为行的集合，它将不得不分割和合并行来实现面向字符的操作。这种方法更好，因为它将分割和合并的复杂性封装在文本类中，从而降低了系统的整体复杂性。
